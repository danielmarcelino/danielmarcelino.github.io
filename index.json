[{"authors":null,"categories":null,"content":"This feature can be used for publishing content such as:\n Project or software documentation Online courses Tutorials  The parent folder may be renamed, for example, to docs for project documentation or course for creating an online course.\nTo disable this feature, either delete the parent folder, or set draft = true in the front matter of all its pages.\nAfter renaming or deleting the parent folder, you may wish to update any [[menu.main]] menu links to it in the config.toml.\n","date":1536462000,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536462000,"objectID":"c3224f3a64174f08aaf31e1f1d16ffd3","permalink":"/tutorial/","publishdate":"2018-09-09T00:00:00-03:00","relpermalink":"/tutorial/","section":"tutorial","summary":"This feature can be used for publishing content such as:\n Project or software documentation Online courses Tutorials  The parent folder may be renamed, for example, to docs for project documentation or course for creating an online course.\nTo disable this feature, either delete the parent folder, or set draft = true in the front matter of all its pages.\nAfter renaming or deleting the parent folder, you may wish to update any [[menu.","tags":null,"title":"Overview","type":"docs"},{"authors":null,"categories":["rstats","reproducible"],"content":" For many years I’ve been coding using dplyr functions and always get annoyde with conflict fuctions issues. Especially those of heavy usage functions as the select(), filter(), and lag().\n── Conflicts ─────────────────────────────────── tidyverse_conflicts() ── ✖ dplyr::filter() masks stats::filter() ✖ dplyr::lag() masks stats::lag() To guarantee that I will always execute the right functions, I usually write them explicitly, informing the package then the desired function name: dplyr::select(). Years of R programming experience tells me going down this rule and I’ll be always on the safe side.\nHowever, I never realized that one thing I could have used is simply pass the function explicitly as a variable: select \u0026lt;- dplyr::select. This sounds obvious now, but if I had dared to try this “coding style” before, it could have saved me a lot of repetition in my data manipulation scripts. See this in context:\nSet the most frequent usage as a variable library(dplyr) select \u0026lt;- dplyr::select  Then use it as you whish  mtcars %\u0026gt;% select(mpg, disp) %\u0026gt;% head() #\u0026gt; mpg disp #\u0026gt; Mazda RX4 21.0 160 #\u0026gt; Mazda RX4 Wag 21.0 160 #\u0026gt; Datsun 710 22.8 108 #\u0026gt; Hornet 4 Drive 21.4 258 #\u0026gt; Hornet Sportabout 18.7 360 #\u0026gt; Valiant 18.1 225  ","date":1573948800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1573948800,"objectID":"54d0487f2481194740796e6a7bb9f948","permalink":"/post/2019-11-17-r-little-secret-how-could-i-live-without-it/","publishdate":"2019-11-17T00:00:00Z","relpermalink":"/post/2019-11-17-r-little-secret-how-could-i-live-without-it/","section":"post","summary":"For many years I've been coding using `dplyr` functions and always get annoyde with conflict fuctions issues.","tags":["rstats","dplyr"],"title":"An R Little Secret! How could I live without it?","type":"post"},{"authors":null,"categories":["rstats","reproducible"],"content":" Motivation I began to work on some shared repositories with three novice students of R and Github workflow. I’ve noticed they are very enthusiasts with R/Rstudio coding, but they simply don’t have much waist play of versioning control tools.\nWhen I was learning and aspiring to move my repositories from a centralized system called Subversion (SVN) to Github (Git)–a system that allows multiple repositories–,1 I found myself reading several guides on Internet, including those graphical ones, hoping to memorizing every Git command line trick.\nIn a decade or less, Git has surpassed others code management systems and became the new norm.2 That’s why learning it is relevant. However, I’ve realized that for 99% of the work I actually do, I’d have needed to get hang of only very few commands. So I decide to write them down as they may be helpful to others as well.\nFind the version of Git Run git --version\n Create a new Git repository Go to the folder of the project.\n Run git init\n   Clone an existing Git repository Cloning is the process of pulling down a copy of a repository stored on a server.\nGo to the parent folder of where you want to repository’s folder to be in.\n git clone [url to repository's git file] [name of folder / repository you want]\n   Check the status of a Git repository git status\n Tell Git to track a file named README.md git add README.md\n Tell Git to track a whole folder named script git add scripts/\n Tell Git to track (and stage) all files and subfolders in a directory git add -A\n Make a commit git commit --m \"my changes commit\"\n View all branches git branch\n Create a new branch git branch new_model\n Switch to a branch git checkout new_model\n Create a new branch and switch to it git checkout -b new_ux\n Merge one branch into another Switch to the branch you want to pull changes into: git checkout master\n Pull changes from another branch into your branch: git merge new_ux\n   Set a remote Github repository Go to GitHub.com and create a new repository.\n Set that repository’s url as the origin repo: git remote add origin https://github.com/danielmarcelino/myfiles.git\n   Push master branch to a Github repository The -u sets the origin as the default for this branch\ngit push -u origin master\n Pull down from branch from GitHub repository to local repository git pull origin master\n Pull down all branches from GitHub git fetch origin\n View all remote branches git branch --remote\n View log git log\n View unstagged changes to files git diff\n Unstage a file git reset filename\n Undo last commit, move commits changes to staging git reset --soft HEAD^\n Undo last commit, remove all changes in your working directory git reset --hard HEAD^\n Clone a remote repository locally git clone url\n Git tags Tags in Git can be used to add a version number. Every new commit after this will auto incremented by appending commit number and hash to the tag. The tag must follow the pattern of X.Y.Z or.\ngit tag -a \"v1.5.0-beta\" -m \"version v1.5.0-beta\"\n Show changes from a particular commit git show --pretty=\"format:\" \u0026lt;commit ID\u0026gt;\ngit show v1.5.0-beta\n Revert a commit by creating a new commit with opposite changes git revert \u0026lt;commit ID\u0026gt;\n   To be even more precise, it’s a central repository with a series of local repositories.↩︎\n https://www.slideshare.net/IanSkerrett/eclipse-community-survey-2014↩︎\n   ","date":1554249600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1554249600,"objectID":"3e5fa4390be2f9059fb6b50db3632bcd","permalink":"/2019-04-04-what-matters-most-in-versioning/","publishdate":"2019-04-03T00:00:00Z","relpermalink":"/2019-04-04-what-matters-most-in-versioning/","section":"","summary":"I won't give you details on git version control tools. Instead, I'll only ask you to commit to memory these few commands...","tags":["rstats","git"],"title":"Be the Best at What Matters Most in Versioning Control","type":"page"},{"authors":["Kristin Wylie","Pedro dos Santos","Daniel Marcelino"],"categories":["educational-assessment"],"content":"","date":1551409200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1551409200,"objectID":"03407330acd6458e3cd9766e4758ed6a","permalink":"/publication/2019-extreme-non-viable-candidates/","publishdate":"2019-03-01T00:00:00-03:00","relpermalink":"/publication/2019-extreme-non-viable-candidates/","section":"publication","summary":"This article explores the causes and consequences of extreme non-viable candidacies, also known as “laranja” (orange) candidacies in the Brazilian political lore. We first define and delineate what makes a candidate a laranja, engaging the comparative literature on sacrificial lambs and using district-level electoral results to operationalize the concept. We then advance a typology of laranjas with four ideal types that vary along dimensions of legality and intentionality. Next, we apply descriptive statistics and a hierarchical logistic regression model to explore the individual, party, and district-level characteristics of extreme non-viable candidates and assess whether and how laranjas are distinct from non-laranjas. Finally, we illustrate the gendered character of laranjas, documenting how the candidate gender quota law in Brazil has been associated with a proliferation of candidatas laranjas (women extreme non-viable candidates).","tags":["psychometrics"],"title":"Extreme non-viable candidates and quota maneuvering in Brazilian legislative elections","type":"publication"},{"authors":null,"categories":["rstats","reproducible"],"content":" President Jair Bolsonaro’s job approval ratings average 39.5% during his first quarter in office so far (from January through late February). Compared to the former presidents, for which I’ve estimates, his quarterly job approval ratings are above the overall average for the inauguration term (31%). However, his ratings trail quarterly averages of the Workers’ Party presidents, Lula I and II, and Dilma I.\nQuarter President % Approving -------- --------------------- ------------ 1987.2 José Sarney 9.0 1990.2 Fernando Collor 36.0 1992.3 Itamar Franco 18.0 1995.1 Fernando Henrique I 39.0 1999.1 Fernando Henrique II 21.0 2003.1 Lula da Silva I 42.5 2007.1 Lula da Silva II 48.0 2011.1 Dilma Rousseff I 51.5 2015.1 Dilma Rousseff II 14.7 2016.2 Michel Temer 19.4 2019.1 Jair Bolsonaro 39.5 ","date":1551139200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1551139200,"objectID":"08a61db732dfad708477da165adb0d69","permalink":"/post/2019-02-26-presidential-job-approval-ratings/","publishdate":"2019-02-26T00:00:00Z","relpermalink":"/post/2019-02-26-presidential-job-approval-ratings/","section":"post","summary":"President Jair Bolsonaro's job approval ratings average 39.5% during his first quarter in office so far.","tags":["politics","SciencesPo"],"title":"Bolsonaro's First Job Approval Ratings","type":"post"},{"authors":null,"categories":["rstats"],"content":"","date":1545876000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1545876000,"objectID":"1daccb7a8c10e99697e935b73d9bd38e","permalink":"/project/anova/","publishdate":"2018-12-27T00:00:00-02:00","relpermalink":"/project/anova/","section":"project","summary":"This is a minimal set of notes and examples that form the foundation of my introduction to the analysis of variance.","tags":["rstats-proj"],"title":"ANOVA Simplified Using R","type":"project"},{"authors":null,"categories":["rstats","sports"],"content":"","date":1545876000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1545876000,"objectID":"86d47c26cfd0f0475f05b205dbc37e04","permalink":"/project/soccer-predictions/","publishdate":"2018-12-27T00:00:00-02:00","relpermalink":"/project/soccer-predictions/","section":"project","summary":"Models developed for the prediction of individual games, European domestic leagues, and the UEFA Champions League.","tags":["sports-proj","rstats-proj"],"title":"Soccer Predictions Using Bayesian Mixed Effects Models","type":"project"},{"authors":null,"categories":["rstats","reproducible"],"content":" I have several tables that I would like to load as a sole data frame. Derived functions from read.table() have a lot of convenient features, but it seems like there is a lot of steps in the implementation that would slow things down. The gain in performance of reading 29 CSV files (about 2.2 GB) shows quite different picture. While the parallelization process does bring some improvement considering the ‘user time’, i.e. the CPU time charged for the process execution at the machine level, the ‘elapsed time’, i.e. the ‘real’ elapsed time since the process was started doesn’t show much difference. Let’s go through it.\nData list_of_datasets \u0026lt;- list.files(pattern = \u0026quot;*.csv\u0026quot;) list_of_datasets  Function library(pbapply) library(parallel) library(doParallel) library(dplyr) #\u0026#39; Reads a list of datasets #\u0026#39; @param x A list of datasets (names of datasets are strings) #\u0026#39; @param func A function, the read function to use to read the data #\u0026#39; @param parallelize Parallelize the code #\u0026#39; @param ... Further arguments passed to func readListFaster \u0026lt;- function(x, func, ..., parallelize = FALSE, rbind = FALSE){ stopifnot(length(x) \u0026gt; 0) read_and_assign \u0026lt;- function(dataset, func){ dataset_name \u0026lt;- as.name(dataset) dataset_name \u0026lt;- func(dataset, ...) } if (parallelize) { message(\u0026quot;Reading in data in parallel\u0026quot;) clusters \u0026lt;- parallel::detectCores() %\u0026gt;% parallel::makeCluster() doParallel::registerDoParallel(clusters) output \u0026lt;- invisible( # invisible is used to suppress the unneeded output pbapply::pblapply(x, read_and_assign, func = func, ..., cl = clusters) ) parallel::stopCluster(clusters) } else if (!parallelize) { output \u0026lt;- invisible( pbapply::pblapply(x, read_and_assign, func = func) ) } # Remove what\u0026#39;s after the \u0026quot;.\u0026quot; at the end of the data set names and what\u0026#39;s before any / for url files. x \u0026lt;- stringr::str_replace_all(x,\u0026quot;.*/|\\\\..*\u0026quot;, \u0026quot;\u0026quot;) names(output) \u0026lt;- x if (rbind) { rbindlist(mclapply(list_of_datasets, fread, mc.cores = detectCores()), fill=TRUE) # dplyr::bind_rows(output) } else { output } }  Results Without Paralelize system.time(loaded_datasets1 \u0026lt;- readListFaster(list_of_datasets, func = read.csv2, parallelize=FALSE, rbind = TRUE))  With Paralelize system.time(loaded_datasets2 \u0026lt;- readListFaster(list_of_datasets, func = read.csv2, parallelize=TRUE, rbind = TRUE)) It’s important to realise that every bit of optimisation matters. But it would not help us if the outcome data frames were different, don’t you agree? Luckily all 174 million records do match.\n table(loaded_datasets1 == loaded_datasets2)   ","date":1544572800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1544572800,"objectID":"9ea3baac7f18e37e92c6665ca2528653","permalink":"/post/2018-12-12-reading-list-faster/","publishdate":"2018-12-12T00:00:00Z","relpermalink":"/post/2018-12-12-reading-list-faster/","section":"post","summary":"It's important to realise that every bit of optimisation matters.","tags":["rstats","pbapply","doParallel","parallel"],"title":"Reading List Faster With parallel, doParallel, and pbapply","type":"post"},{"authors":null,"categories":["rstats","educational-assessment"],"content":"","date":1539140400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1539140400,"objectID":"22824a8e6ae7260a9f0463a327d930f3","permalink":"/project/mapping/","publishdate":"2018-10-10T00:00:00-03:00","relpermalink":"/project/mapping/","section":"project","summary":"This project shows examples of how to produce maps in R, perform spatial analyses, and how to estimate centrographic statistics.","tags":["rstats-proj","educational-assessment-proj"],"title":"Cartography and Spatial Analysis","type":"project"},{"authors":null,"categories":["rstats","reproducible"],"content":" Alea Jacta Est This is the very last analysis before the election. A far-right nationalist candidate, Jair Messias Bolsonaro, is leading the polls with about 40% of the intentions, while the runner up candidate, Fernando Haddad, of a leftist coalition has about 25%; all the others have 35% in total.\nA very intriguing debate put forward in the press in the last days was if the next president would be elected right way in the primary election round. So, will the Bandwagon, shy Tory, and something else effect help electing the far-right nationalist candidate by the absolute-majority criterion vote? Following a similar strategy presented before here and here, Bayes says don't worry about Bolsonaro’s victory by now.\nAlthough polling houses are showing Bolsonaro’s support augmenting systematically over the last weeks, it’s fair to remember that pollsters did a very poor job in fielding the true vote share last elections. For instance, in 2014 the main polling firms mis-predicted both Dilma Rousseff’s and Aecio Neves’ true positions by saying Dilma was to win a majority with a margin, but the decision went to a instant runoff between these two candidates.\nThe following numbers represent the forecast with polling data made available over the last three days. Since there is a considerable number of swing voters in these polls, I did some math by distributing these undecideds before computing the final likely results. It’s a simplified simulation exercice as I do not account for time trends, house effects etc. I’m only accounting for the sample sizes.\n The data  Bolsonaro Haddad Ciro Others Swing Wasting N Datafolha 0.360 0.220 0.130 0.200 0.040 0.050 19552 Ibope 0.360 0.220 0.110 0.180 0.050 0.080 3010 MDA 0.367 0.240 0.099 0.155 0.060 0.078 2002 Ipespe 0.360 0.220 0.110 0.290 0.020 0.000 2000 VoxPopuli 0.340 0.270 0.110 0.130 0.070 0.080 2000 ParanaPesq 0.349 0.218 0.094 0.171 0.046 0.120 1080  Poll of polls Here is where the magic begins. I weigh polls so to reflect their sample sizes. The new results are shown in last line (7) of the table.\noptions(digits=3) wtd.polls \u0026lt;- rbind(data, c(apply(data[,1:6],2, weighted.mean, data$N), sum(data$N))) print(wtd.polls)  Bolsonaro Haddad Ciro Others Swing Wasting N Datafolha 0.360 0.220 0.130 0.200 0.0400 0.0500 19552 Ibope 0.360 0.220 0.110 0.180 0.0500 0.0800 3010 MDA 0.367 0.240 0.099 0.155 0.0600 0.0780 2002 Ipespe 0.360 0.220 0.110 0.290 0.0200 0.0000 2000 VoxPopuli 0.340 0.270 0.110 0.130 0.0700 0.0800 2000 ParanaPesq 0.349 0.218 0.094 0.171 0.0460 0.1200 1080 7 0.359 0.225 0.122 0.195 0.0433 0.0561 29644  Adjusting for the undecideds Adjusting for swing voters, the new results are now the line (8) of the table.\noptions(digits=3) wtd.polls[8,] \u0026lt;- data.frame(wtd.polls[7,1:4] + wtd.polls[7,1:4] / sum(wtd.polls[7,1:4]) * wtd.polls[7,5], Swing=0, Wasting=wtd.polls[7,6], N=wtd.polls[7,7]) print(wtd.polls)  Bolsonaro Haddad Ciro Others Swing Wasting N Datafolha 0.360 0.220 0.130 0.200 0.0400 0.0500 19552 Ibope 0.360 0.220 0.110 0.180 0.0500 0.0800 3010 MDA 0.367 0.240 0.099 0.155 0.0600 0.0780 2002 Ipespe 0.360 0.220 0.110 0.290 0.0200 0.0000 2000 VoxPopuli 0.340 0.270 0.110 0.130 0.0700 0.0800 2000 ParanaPesq 0.349 0.218 0.094 0.171 0.0460 0.1200 1080 7 0.359 0.225 0.122 0.195 0.0433 0.0561 29644 8 0.376 0.235 0.128 0.205 0.0000 0.0561 29644  Adjusting for the wasting votes Adjusting for wasting votes, follows the same principle. The last line of the following tbale (9) has the new adjusted preference distribution, with correct sample size.\noptions(digits=3) wtd.polls[9,] \u0026lt;- data.frame(wtd.polls[8,1:4] + wtd.polls[8,1:4] / sum(wtd.polls[8,1:4]) * wtd.polls[8,6], Swing=0, Wasting=0, N=(wtd.polls[8,7] - (wtd.polls[8,6] * wtd.polls[8,7]))) print(wtd.polls)  Bolsonaro Haddad Ciro Others Swing Wasting N Datafolha 0.360 0.220 0.130 0.200 0.0400 0.0500 19552 Ibope 0.360 0.220 0.110 0.180 0.0500 0.0800 3010 MDA 0.367 0.240 0.099 0.155 0.0600 0.0780 2002 Ipespe 0.360 0.220 0.110 0.290 0.0200 0.0000 2000 VoxPopuli 0.340 0.270 0.110 0.130 0.0700 0.0800 2000 ParanaPesq 0.349 0.218 0.094 0.171 0.0460 0.1200 1080 7 0.359 0.225 0.122 0.195 0.0433 0.0561 29644 8 0.376 0.235 0.128 0.205 0.0000 0.0561 29644 9 0.398 0.249 0.135 0.217 0.0000 0.0000 27980 wtd.polls$N[9] * c(wtd.polls$Bolsonaro[9], (wtd.polls$Haddad[9] + wtd.polls$Ciro[9] + wtd.polls$Others[9]), 1 - wtd.polls$Bolsonaro[9] - (wtd.polls$Haddad[9] - wtd.polls$Ciro[9] - wtd.polls$Others[9]))+1 [1] 11146 16832 19708  Draw 1 million samples Finally I draw a lot os samples from the posterior distribution using the weighted polls and uninformative priors to keep it simple.\npoll \u0026lt;- c(4910, 3011, 1756, 2718) library(SciencesPo) library(MCMCpack) ### draw samples from the posterior set.seed(1234) MC \u0026lt;- 1000000 ### Using uninformative prior (1,1,1,1) #samples \u0026lt;- getDirichletSamples(MC, alpha = poll + rep(1,4)) row= 9 prob2win = function(row, export=1){ p=rdirichlet(100000, wtd.polls$N[row] * c(wtd.polls$Bolsonaro[row], wtd.polls$Haddad[row] + wtd.polls$Ciro[row] + wtd.polls$Others[row], 1 - wtd.polls$Bolsonaro[row] - wtd.polls$Haddad[row] - wtd.polls$Ciro[row] - wtd.polls$Others[row])+1) if(export==1){ mean(p[,1]\u0026lt;p[,2]) ## No exceeds Yes? } else { return(p) } } Here we want to look at the margins of Bolsonaro over the combined opposition candidates. The more candidates contesting for the seat, the greater the probability that the winning candidate will receive only a minority of the votes cast.\nWe can also use the middle 95% range to represent the uncertainty. The numbers say about 20% of times in 1 million elections Bolsonaro appears ahead the opposition formula. Therefore, it’s very unlikely he could win the election in the primary election round.\nsamples = prob2win(row= 9, export=0) combinedOpposition \u0026lt;- (samples[,2]) frontRunner \u0026lt;- (samples[,1]) margin \u0026lt;- (combinedOpposition - frontRunner) quantile(margin, probs = c(0.025, 0.5, 0.975))  2.5% 50% 97.5% 0.192 0.203 0.215  Finally, we can plot the posterior distribution of simulated elections where Bolsonaro is greater than the combined opposing votes. Based on the polling data at hands, and very little effort, we can believe the far-right nationalist candidate won’t make it this Sunday as quite a few press pundits are suggesting.\n hist(margin, col=\u0026quot;gray\u0026quot;, prob = FALSE, # posterior distribution breaks = \u0026quot;FD\u0026quot;, xlab = expression(p[Bolsonaro] \u0026gt; p[Opposition]), main = expression(paste(bold(\u0026quot;Posterior Distribution of Elections With \u0026quot;), p[Bolsonaro] \u0026gt; p[Opposition]))); # Bayes estimate (middle 95%) abline(v=mean(margin), col=\u0026#39;red\u0026#39;, lwd=3, lty=3); Posterior Distribution of Simulated Elections\n  ","date":1538784000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1538784000,"objectID":"5a54bbb7ba78ba6618d4a9701e5b91a1","permalink":"/post/2018-10-06-will-brazil-goes-to-the-instant-runoff-election/","publishdate":"2018-10-06T00:00:00Z","relpermalink":"/post/2018-10-06-will-brazil-goes-to-the-instant-runoff-election/","section":"post","summary":"Pundits have been asking themselves over the last days if the Brazilian far-right candidate would win the election in the primary runoff.","tags":["politics"],"title":"Will Brazil Goes to the Instant Runoff Election?","type":"post"},{"authors":null,"categories":null,"content":" In this tutorial, I\u0026rsquo;ll share my top 10 tips for getting started with Academic:\nTip 1 \u0026hellip;\nTip 2 \u0026hellip;\n","date":1536462000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1536462000,"objectID":"6a451186c775f5f0adb3a0416d0cb711","permalink":"/tutorial/example/","publishdate":"2018-09-09T00:00:00-03:00","relpermalink":"/tutorial/example/","section":"tutorial","summary":"In this tutorial, I\u0026rsquo;ll share my top 10 tips for getting started with Academic:\nTip 1 \u0026hellip;\nTip 2 \u0026hellip;","tags":null,"title":"Example Page","type":"docs"},{"authors":["Daniel Marcelino","Jeulliano Pedroso","Marcello Richa","Ricardo Goncalves"],"categories":["educational-assessment"],"content":"","date":1504234800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1504234800,"objectID":"7aa23f1185964f61886b3f3bfc3d6e4a","permalink":"/publication/2017-politicas-publicas-baseadas-em-evidencias/","publishdate":"2017-09-01T00:00:00-03:00","relpermalink":"/publication/2017-politicas-publicas-baseadas-em-evidencias/","section":"publication","summary":"The text briefly discusses the incorporation of massive use of data by governments and public administration in response to the growing need of integrating greater amounts of information into the processes of developing and evaluating policies. This movement has been defined by some scholars as data-driven policy making. As an example of integrated data exploration within the Municipal Secretariat for Sports, Leisure and Youth, the authors present two assessments produced by data mining techniques and spatial analysis dealing with the following questions: 1) What would be the best distribution of the urban equipments in the city? What kind of public equipment best fits the needs of the neighborhood or region? How to increase the population's access to urban equipments fofpports, leisure and youth policies?","tags":["methods","curitiba","sports"],"title":"Políticas Públicas de Esporte, Lazer e Juventude Baseadas em  Evidências","type":"publication"},{"authors":null,"categories":["rstats"],"content":"","date":1497495600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1497495600,"objectID":"50a8b5411451618e38364c3e13c6bb76","permalink":"/project/got/","publishdate":"2017-06-15T00:00:00-03:00","relpermalink":"/project/got/","section":"project","summary":"A data analysis of Game of Thrones that determines who really is the main character.","tags":["rstats-proj","machine-learning","deep-learning"],"title":"Game of Thrones Analysis","type":"project"},{"authors":null,"categories":["rstats"],"content":" With a Telegram account connected to @TeleR, the force of R can always be with me, where I have data. The following is a screenshot of my mobile:\nR Force\n If you want to have R where you are too, you only need a Telegram account; then, you have to search for the public username @Tele_R, starting a new chat with. Thanks to TeleMath Team, you will be able to send R commands as messages and get answers back.\n","date":1483315200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1483315200,"objectID":"34ac21cf6863590f874230923e8b25b0","permalink":"/post/2017-01-02-may-the-force-of-r-be-with-you-always/","publishdate":"2017-01-02T00:00:00Z","relpermalink":"/post/2017-01-02-may-the-force-of-r-be-with-you-always/","section":"post","summary":"With Telegram, the force of R can always be with me, where I have data.","tags":["telegram","rstats"],"title":"May the Force of R be With You, Always!","type":"post"},{"authors":null,"categories":["rstats","reproducible"],"content":" Tasks: Compute the Effective Number of Parties by year and region  Using the American National Election Studies, compute the Effective Number of Parties in the electorate across regions and years/waves.   The data The data come from The American National Election Studies (ANES). The ANES is a survey that covers voting behavior, public opinion, and political participation. Many other countries have their own version of this survey, for instance see here. While the primary mission of these studies is to answer questions about voting behavior, the wealth of variables collected amongst voters means that we can use these data to answer other questions too. If you would like to know about the other variables contained in the ANES questionnaires, you may want to read its codebook. You may also be interested in a post by Anthony Damico on this topic.\nThere are many ways you can import the version of data I’ve made. For example, you download it. Then read it.\nlibrary(dplyr) library(ggplot2) library(RCurl) library(SciencesPo)  download.file(\u0026quot;https://github.com/danielmarcelino/Datasets/raw/master/ANES/anes-data.RData\u0026quot;, destfile = \u0026quot;anes-data.RData\u0026quot;) ANES \u0026lt;- readRDS(\u0026quot;anes-data.RData\u0026quot;)  Data chasing I’m particularly interested in 3 variables from the list. Party identification (VCF0301), originally measured as 7-point scale, the census region code (VCF0112), and years of the wave (VCF0004).\nANES$PID3 \u0026lt;- factor(ANES$VCF0301) # Convert to three-level Party ID: levels(ANES$PID3) \u0026lt;- c(\u0026quot;Dem\u0026quot;, \u0026quot;Dem\u0026quot;, \u0026quot;Dem\u0026quot;, \u0026quot;Ind\u0026quot;, \u0026quot;Rep\u0026quot;, \u0026quot;Rep\u0026quot;, \u0026quot;Rep\u0026quot;) ANES$Region \u0026lt;- factor(ANES$VCF0112) # # Convert to factor levels(ANES$Region) \u0026lt;- c(\u0026quot;Northeast\u0026quot;, \u0026quot;North Central\u0026quot;, \u0026quot;South\u0026quot;, \u0026quot;West\u0026quot;) names(ANES)[names(ANES)==\u0026quot;VCF0004\u0026quot;] \u0026lt;- \u0026quot;Year\u0026quot; # ANES \u0026lt;- ANES[(which(ANES$VCF0004 %in% c(2000, 2002, 2004, 2008,2012))),]  The Effective Number of Parties For those who do not know the concept of an “Effective Number of Parties”, you can read a post back in 2014, or go to Wikipedia for summarizing details. In short, the effective number of parties is the number of viable or important political parties in a party system that includes parties of unequal size. This measure is given by the inverse of the Herfindahl-Hirschman Index (HHI) or the inverse participation ratio (IPR) in physics. The HHI is calculated by taking the voting share of each party in the electorate, squaring them, and summing the result: \\(HHI = s1^2 + s2^2 + s3^2 + ... + sn^2\\) (where s is the voting share of each party expressed as a whole number. In mathematical notation, it looks like:\n\\[HHI = \\sum_{i=1}^N s_i^2\\]\nFor now, I’ll be using dplyr to estimate the effective number of parties by year and region, but the SciencesPo package has a function named politicalDiversity that can calculate several indices used by political science scholars, which I’ll be addressing in future posts.\nENPpid3 \u0026lt;- ANES %\u0026gt;% group_by(Year, Region) %\u0026gt;% summarise(invHHI = sum(table(PID3))^2 / sum(table(PID3)^2)) %\u0026gt;% filter(!is.na(Region)) print(ENPpid3) Source: local data frame [112 x 3] Groups: Year [28] Year Region invHHI \u0026lt;dbl\u0026gt; \u0026lt;fctr\u0026gt; \u0026lt;dbl\u0026gt; 1 1952 Northeast 2.251207 2 1952 North Central 2.231502 3 1952 South 1.538712 4 1952 West 2.119764 5 1956 Northeast 2.352651 6 1956 North Central 2.419891 7 1956 South 1.816944 8 1956 West 2.395399 9 1958 Northeast 2.296220 10 1958 North Central 2.247543 # ... with 102 more rows  The plot The index takes into consideration the relative size distribution of the parties (actually, declared partisanship) in an electorate. It approaches 1 when the distribution of preferences in a region is concentrated around only one party. Conversely, the index increases when the number of parties favored in the region increases.\nThe analysis suggests a highly concentrated political market in-the-electorate in the South states, around 1 and a half party in the 50s, but then regressing towards the national mean (invHHI = 2.349) after the 60s.\ngg \u0026lt;- ggplot(ENPpid3) gg \u0026lt;- gg + geom_line(aes(x = Year, y = invHHI, colour = Region), size=1.1) gg \u0026lt;- gg + scale_x_continuous(limits=c(1952, 2012), breaks = round(seq(1952, 2012, by = 4),1)) gg \u0026lt;- gg + scale_y_continuous(limits=c(1, 3)) gg \u0026lt;- gg + theme_pub() gg \u0026lt;- gg + labs(title = \u0026quot;Effective Number of Parties-in-the-Electorate\u0026quot;, x = \u0026quot;Year of the survey\u0026quot;, y = \u0026quot;Index\u0026quot;) gg Effective number of parties\n It’s true that majority plurality (single ballot) electoral systems tend to have a low number of effective parties compared to majority second ballot systems and to proportional representation systems. With an average count of effective parties in-the-electorate around 2, there is not much room for a third political force to emerge; and this seems to be quite consolidated among regions.\n ","date":1480204800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1480204800,"objectID":"88d89b57b424c88c3e486db2f5941355","permalink":"/post/2016-11-26-effective-number-of-parties/","publishdate":"2016-11-27T00:00:00Z","relpermalink":"/post/2016-11-26-effective-number-of-parties/","section":"post","summary":"Using the American National Election Studies, compute the Effective Number of Parties in the electorate across regions and years/waves.","tags":["r","viz"],"title":"The Effective Number of Parties in the Electorate by Year and Region","type":"post"},{"authors":["Daniel Marcelino"],"categories":["educational-assessment"],"content":"This presentation is part of a coordinated edition seminar, Data Science and Society, organized by IBPAD and Núcleo de Estudos e Pesquisa em Políticas Públicas, Governo e Gestão (NP3-UnB).\n","date":1479261600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1479261600,"objectID":"58bb8f933a5437e9fd91b1d06d3728b6","permalink":"/talk/2016-11-16-data-sciences-and-society/","publishdate":"2016-11-16T00:00:00-02:00","relpermalink":"/talk/2016-11-16-data-sciences-and-society/","section":"talk","summary":"This presentation is part of a coordinated edition seminar, Data Science and Society, organized by IBPAD and Núcleo de Estudos e Pesquisa em Políticas Públicas, Governo e Gestão (NP3-UnB).","tags":["rstats"],"title":"Data Science and Society: The SciencesPo R Package","type":"talk"},{"authors":null,"categories":["rstats"],"content":" Ah, the numbers! The Olympic Games are back in high style in Rio. Despite Brazil’s sluggish economy and unfulfilled promises for this Summer Olympic Games, I’d say, my expectations were met yesterday with such a beautiful opening ceremony. Let’s follow the competition over the next few days–the pressure to perform has only just begun.\nOne interesting aspect about the Olympic games is the way people around the globe cover it. In fact, several news houses are quite excited about telling predictions and showing medals rankings of all sort, starting soon today. Surprisingly, yesterday my eyes catch a stacked bar chart by NBC with a really bad visualization taste. It’s so inaccurate that it deserves the title of Worst Olympic Chart.\nA chart from NBC Olympics\n The colors are fine, but the dimensions are simply misleading. How have the 976 USA Olympic gold medals been given less length in the plot than 797 Russia’s medals (silver and bronze), or all 777.5 medals of Great Britain? Yep, that’s right; one can get half a medal by tying for a placement. Anyway, I believe it shouldn’t be that difficult to make a decent-looking, yet accurate plot for readers. But perhaps the worst is yet to come.\nTop-3 all-time Olympic medals  The data points  library(dplyr) country = c(rep(\u0026#39;US\u0026#39;,3),rep(\u0026#39;RUS\u0026#39;,3),rep(\u0026#39;GB\u0026#39;,3)) Medal = rep(c(\u0026#39;Gold\u0026#39;,\u0026#39;Silver\u0026#39;,\u0026#39;Bronze\u0026#39;),3) counts = c(976.0, 759.5, 668.5, 440.0, 357.0,326.0, 233.5, 272.5, 271.5) Olympics = as.data.frame( cbind(country, Medal, counts)) Olympics$counts = as.numeric(levels(Olympics$counts))[Olympics$counts] Olympics$Medal \u0026lt;- factor(Olympics$Medal,levels = c(\u0026#39;Gold\u0026#39;,\u0026#39;Silver\u0026#39;,\u0026#39;Bronze\u0026#39;)) Olympics \u0026lt;- Olympics %\u0026gt;% group_by(country) %\u0026gt;% mutate(mid_y=cumsum(counts) - 0.5*counts)   Do the plot Updated: to work properly, please install the ggplot2 development version, otherwise delete the theme setting line.\nlibrary(ggplot2) # devtools::install_github(\u0026#39;haddley/ggplot2\u0026#39;) library(SciencesPo) # for the theme: devtools::install_github(\u0026#39;danielmarcelino/SciencesPo\u0026#39;) g \u0026lt;- ggplot(Olympics,aes(x = country, y=counts, fill = Medal)) g \u0026lt;- g + geom_bar(stat = \u0026#39;identity\u0026#39;) g \u0026lt;- g + scale_fill_manual(values = c(\u0026#39;#FFD700\u0026#39;,\u0026#39;#C0C0C0\u0026#39;,\u0026#39;#CD7F32\u0026#39;)) g \u0026lt;- g + scale_y_continuous(limits = c(0, 2500)) g \u0026lt;- g + geom_text(aes(label=counts, y = mid_y), size = 3) g \u0026lt;- g + labs(x=\u0026#39;\u0026#39;,y=\u0026#39;Number of Medals\u0026#39;, title=\u0026#39;Olympic Medals\u0026#39;) g \u0026lt;- g + coord_flip() # g \u0026lt;- g + theme_scipo(base_size = 13) g \u0026lt;- g + no_y_gridlines() print(g)    ","date":1470441600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1470441600,"objectID":"5004b49080a48a8046aa820d84a3d8f5","permalink":"/post/2016-08-06-yet-the-worst-olympic-chart/","publishdate":"2016-08-06T00:00:00Z","relpermalink":"/post/2016-08-06-yet-the-worst-olympic-chart/","section":"post","summary":"The Olympics barely began but we already have the worst chart winner.","tags":["viz","rstats"],"title":"Yet the Worst Olympic Chart","type":"post"},{"authors":null,"categories":["rstats"],"content":"","date":1466823600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1466823600,"objectID":"b9dd5986eaf79a904c92b24497528a76","permalink":"/project/brexit/","publishdate":"2016-06-25T00:00:00-03:00","relpermalink":"/project/brexit/","section":"project","summary":"This data project provides some insights, specially about the spacial distribution of the `Leave vote` across country. This project is not entirely finalized though. I still plan to overlap data from past elections and local opinion surveys data as they become available.","tags":["rstats-proj"],"title":"Mapping the Brexit Vote","type":"project"},{"authors":null,"categories":["rstats"],"content":"","date":1466823600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1466823600,"objectID":"5a6aeff62360a2a804b6936b6b574b9b","permalink":"/project/pitaco/","publishdate":"2016-06-25T00:00:00-03:00","relpermalink":"/project/pitaco/","section":"project","summary":"This data project provides some insights, specially about the spacial distribution of the `Leave vote` across country. This project is not entirely finalized though. I still plan to overlap data from past elections and local opinion surveys data as they become available.","tags":["rstats-proj"],"title":"Mapping the Brexit Vote","type":"project"},{"authors":["Maria Paula Santos","Daniel Marcelino"],"categories":null,"content":"Below are additional resources for those who are interested in getting more information about this survey results.\n Comunidades terapêuticas e a disputa entre modelos de atenção e cuidado a usuários de droga Comunidades terapêuticas: temas para reflexão.  ","date":1465268400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1465268400,"objectID":"ed51d5c07ef4f482dfde1ce1f9af2615","permalink":"/talk/2016-06-07-survey-therapeutic-communities/","publishdate":"2016-06-07T00:00:00-03:00","relpermalink":"/talk/2016-06-07-survey-therapeutic-communities/","section":"talk","summary":"Since 2011, the Federal Government, through the National Secretariat for Drug Policy (SENAD), funds vacancies in Therapeutic Communities (CTs) for people with substance use and substance use disorders (SUDs). In 2014, the Secretariat invited IPEA to carry out a research on these organizations, with the goal to gathering information to improve the monitoring and evaluation of this policy. The research effort sought to gather a set of quantitative and qualitative data about TC practices, as well as their physical and material reception conditions; its workers and leaders; and, to a small extent, their welcoming practices. The quantitative research consists of a survey with a national sample of 500 units, extracted from a cadastre with almost 2,000 CTs.","tags":["sampling","rstats","gov"],"title":"Synthesis of the Survey of Therapeutic Communities in Brazil","type":"talk"},{"authors":null,"categories":["rstats","reproducible"],"content":" Having presented preliminary findings from a national sample of therapeutic communities in Brazil, I thought the Babbage’s words fits like a glove for those criticizing quantitative approaches for policy evaluations: the “Errors using inadequate data are much less than those using no data at all” (Charles Babbage).\n ","date":1450051200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1450051200,"objectID":"35981fb6293ad832947ed89db94ebdc5","permalink":"/post/2015-12-14-data-data-data/","publishdate":"2015-12-14T00:00:00Z","relpermalink":"/post/2015-12-14-data-data-data/","section":"post","summary":"Shows the distribution of therapeutic communities in Brazil.","tags":["elections","rstats"],"title":"Data, Data, Data","type":"post"},{"authors":null,"categories":["rstats"],"content":" A candidate’s stature may be more important in elections than we’ve realized. I came across this claim in the US press suggesting that the taller the candidate, the better his/her chances to succeed in the presidential elections.\nAfter a little search, I found this Wikipedia entry, and even some academic research on this topic here and here, mainly relating this phenomenon to some sort of evolutionary instinctual preference (positive selection). At least in the US, it does make sense to ask how tall is your favorite presidential candidate. The plot below presents the evidence.\nLinear Regression Estimates\n The association is significant, indeed (F**ing love science!), though the relationship may lose some power if other factors is to be included, such as age, party etc.\nThe data I gathered some data on the presidential candidates’ height and popular vote support to test the strength of such claim with a regression analysis. The observations consist of the height of president divided by height of most successful opponent. Data and scripts are here.\nUPDATE: After have seen this post on the R-Bloggers aggregator, I realized that the engineer indexed a related postage by Arthur Charpentier, published a few years before.\n ","date":1442275200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1442275200,"objectID":"afb617884a2e56dc976291876be1a923","permalink":"/post/2015-09-15-isnt-sad-that-all-that-matters-in-an-election-is-the-candidates-height/","publishdate":"2015-09-15T00:00:00Z","relpermalink":"/post/2015-09-15-isnt-sad-that-all-that-matters-in-an-election-is-the-candidates-height/","section":"post","summary":"This post discusses the importance of candidates' stature in US presidential elections.","tags":["reproducible","rstats"],"title":"Isn't sad that all that matters in an election is the candidate's height?","type":"post"},{"authors":["Daniel Marcelino"],"categories":["educational-assessment","rstats","reproducible"],"content":"","date":1433646000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1433646000,"objectID":"3959ddff9bd62575eae4ebf31632f707","permalink":"/talk/2015-06-07-tutorial-r-selenium/","publishdate":"2015-06-07T00:00:00-03:00","relpermalink":"/talk/2015-06-07-tutorial-r-selenium/","section":"talk","summary":"Selenium is a set of web tools or a framework that allows us to automate web browser actions. RSelenium is a R package that allows us to use our seperate installation of selenium inside R. Hence, R can literally 'drive' our browser, so it can see anything we see when we right click and inspect element in Chrome, Firefox or Safari. I'll show in this tutorial how Selenium works for targeted extraction. By target extraction I mean when the user knows exactly what and where he wants scrap data.","tags":["reproducible"],"title":"Scraping with R and Selenium","type":"talk"},{"authors":null,"categories":["rstats","reproducible"],"content":" The 2014 election gave rise to an even more fragmented lower house in Brazil. This is important because higher values of political fragmentation suggest a less stable political environment in comparison with previous years.\nThe Golosov effective number of parties\n The 2014 legislative election This year, the election gave rise to an even more fragmented lower house. The way political scientists measure how fragmented is a political system is by applying one of the several formulas for calculating the Effective Number of Parties. The Effective Number of Parties is a statistic that helps researchers to go beyond the simple (absolute) count of the number of parties for further analysis. A widely accepted formula was proposed by M. Laakso and R. Taagepera (1979):\n\\[N =\\frac{1}{\\sum_{i=1}^{n}p_{i}^{2}}\\]\nwhere N denotes the effective number of parties and p_i denotes the \\(i^{th}\\) party’s fraction of the seats. The problem with this method is that it produces distortions, particularly for small parties.\nFew years ago, Grigorii Golosov (2010) suggested a new formula for estimating the effective number of parties in which both larger and smaller parties are not attributed unrealistic scores as produced by the Laakso—Taagepera index above. Golosov’s formula can be expressed as:\n\\[ N = \\sum_{i=1}^{n}\\frac{p_{i}}{p_{i}+p{i}^{2}-p_{i}^{2}} \\]\nTo compare the evolution in the effective number of parties between 2002 1986 to 2014 in the Brazilian lower house, I programed a small function which computes some of the most standard political diversity measures, including the Golosov (2010)’s formula above. The function is part of the SciencesPo R package. For a more complete overview of the indices performed by the package, refer to this vignette.\nThe results displayed below and summarized in the plot at the top of this post, indicate the effective number of parties had a considerable upward shift between 2010 to 2014, moving from 10.5 to 14.5 using the Golosov’s scale or from 10.4 to 13.1 using the more standard method by Laakso and Taagepera.\nSample of data library(SciencesPo) ## 2010 Election outcome as proportion of seats seats_2010 = c(88, 79, 53, 43, 41, 41, 34, 28, 21, 17, 15, 15, 12, 8, 4, 3, 3, 2, 2, 2, 1, 1)/513 ## will give the following props: print(seats_2010) #\u0026gt; [1] 0.171539961 0.153996101 0.103313840 0.083820663 0.079922027 #\u0026gt; [6] 0.079922027 0.066276803 0.054580897 0.040935673 0.033138402 #\u0026gt; [11] 0.029239766 0.029239766 0.023391813 0.015594542 0.007797271 #\u0026gt; [16] 0.005847953 0.005847953 0.003898635 0.003898635 0.003898635 #\u0026gt; [21] 0.001949318 0.001949318 ## 2014 Election outcome as proportion of seats seats_2014 = c(70, 66, 55, 37, 38, 34, 34, 26, 22, 20, 19, 15, 12, 11, 10, 9, 8, 5, 4, 3, 3, 3, 2, 2, 2, 1, 1, 1)/513 print(seats_2014) #\u0026gt; [1] 0.136452242 0.128654971 0.107212476 0.072124756 0.074074074 #\u0026gt; [6] 0.066276803 0.066276803 0.050682261 0.042884990 0.038986355 #\u0026gt; [11] 0.037037037 0.029239766 0.023391813 0.021442495 0.019493177 #\u0026gt; [16] 0.017543860 0.015594542 0.009746589 0.007797271 0.005847953 #\u0026gt; [21] 0.005847953 0.005847953 0.003898635 0.003898635 0.003898635 #\u0026gt; [26] 0.001949318 0.001949318 0.001949318  Compute the indices PoliticalDiversity(seats_2010, index= \u0026quot;laakso/taagepera\u0026quot;) [1] 10.369 PoliticalDiversity(seats_2010, index= \u0026quot;golosov\u0026quot;) [1] 10.511 PoliticalDiversity(seats_2014, index= \u0026quot;laakso/taagepera\u0026quot;) [1] 13.064 PoliticalDiversity(seats_2014, index= \u0026quot;golosov\u0026quot;) [1] 14.472  Update After I published this post, I realized it would be nice to extend the election series as well as compare the two indices mentioned above. So, I did update the original plot, which contained only values computed under the Golosov’s method. Also notice that the results may differ from other scholars because the overall sum of votes used or the number of elected candidates may be different. Some may use the actual outcome of the election, as I did, others may use the number of representatives that actually entered the office after any recounting or judicial decisions.\n  ","date":1412553600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1412553600,"objectID":"671bd51ffc8a6edb2f088c67225e366b","permalink":"/post/2014-10-06-a-bit-more-fragmented/","publishdate":"2014-10-06T00:00:00Z","relpermalink":"/post/2014-10-06-a-bit-more-fragmented/","section":"post","summary":"This entry discusses the legislative elections in Brazil, which turned out to produce one of the most fragmented parliament in the world.","tags":["elections","rstats"],"title":"A Bit More Fragmented","type":"post"},{"authors":null,"categories":["rstats","reproducible"],"content":" Yesterday, more Scots than ever since universal suffrage was introduced cast a ballot on the matter of independence.\nThe turnout was itself phenomenal and that potentially implicates a series of questions for the government authorities and citizens. For the time being the sole question is: would this benefit one side or the other? The verdict favored the NO–better together–with a margin little higher than indicated by polls of major polling houses fielded over the last week. This also returns to the point I raised roughly a month ago: evidence from the political science literature suggests voters who fail to promptly decide are more likely to vote for the status quo in referendums like this.\nThe Thermometer of the Referendum Outcome\n ","date":1411084800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1411084800,"objectID":"e78160f09172b34cec86e47122641bbd","permalink":"/post/2014-09-19-yep-he-made-it-country-voted-no/","publishdate":"2014-09-19T00:00:00Z","relpermalink":"/post/2014-09-19-yep-he-made-it-country-voted-no/","section":"post","summary":"This post talks big about my last predictions for the Referendum in Scotland.","tags":["polls","rstats"],"title":"Yep. He made it, the country voted No","type":"post"},{"authors":null,"categories":["rstats","reproducible"],"content":" Just few hours before Scots head to the polls, there is not an overwhelming advantage of the anti-independence vote. Actually, the margin is shorter than last time I looked at it, but despite such a growing trend in favor of the “Yes” campaign in the last weeks, the “No” side has an edge still. To frame this in terms of probabilities that \\((\\theta_{NO})\\) exceeds \\((\\theta_{YES})\\), I write a short function (replicated here) that will use simulation from the Dirichlet distributions to compute the posterior probability that “No” exceeds “Yes” shown in the lovely chart below.\nPosterior Distribution\n The data used here to draw the distributions were gathered from a series of polls and available at the wikipedia. The polls employ different methodologies and phrase questions differently. For instance, some surveys ask respondents how they would vote if this referendum were held today, others ask them how they intend to vote on 18th September. By aggregating them, any swing could be the by-product of the random variation to which all polls are subject.\n","date":1410912000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1410912000,"objectID":"49756665fb6f7c1db2b6576d847d312d","permalink":"/post/2014-09-17-bayes-says-dont-worry-about-scotlands-referendum/","publishdate":"2014-09-17T00:00:00Z","relpermalink":"/post/2014-09-17-bayes-says-dont-worry-about-scotlands-referendum/","section":"post","summary":"This post uses Bayesian methods to show the anti-independence vote has an overwhelming advantage over the pro-independence side.","tags":["polls","rstats"],"title":"Bayes says `don't worry` about Scotland's Referendum","type":"post"},{"authors":["Daniel Marcelino"],"categories":["educational-assessment"],"content":"","date":1410750000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1410750000,"objectID":"7904934e0567eb89b2731b1278288f1f","permalink":"/publication/2015-sage-encyclopedia/","publishdate":"2014-09-15T00:00:00-03:00","relpermalink":"/publication/2015-sage-encyclopedia/","section":"publication","summary":"The ideal types constitute one of the most important methodological legacies from Max Weber (1864–1920). As Weber made clear, ideal types are essentially schemes of conceptualization that serve as methodological instruments for comparing, classifying, and measuring social and historical phenomena. The word itself (Idealtypus) was borrowed from Georg Jellinek – a historian and Weber's compatriot. Nonetheless, Weber equipped the term with further constraints in order to avoid its normative sense. Hence, the word “ideal” in Weber's writings has nothing to do with the contemporary usage of the adjective “ideal” itself; rather it refers to the idea, or an analytical construct that does not express evaluations of any sort about the reality.","tags":["psychometrics"],"title":"Ideal Types","type":"publication"},{"authors":["Daniel Marcelino","Alejandro Tapias"],"categories":null,"content":"","date":1407207600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1407207600,"objectID":"c2b53f995fd423d86a30e030805d3b30","permalink":"/talk/2014-08-05-when-the-winner/","publishdate":"2014-08-05T00:00:00-03:00","relpermalink":"/talk/2014-08-05-when-the-winner/","section":"talk","summary":"We present a modelling approach to forecast elections in complex settings, characterized by a high number of candidates, sparse and inaccurate polls, and very short memory on the polling houses performance. Because of the complex multivariate dimensions of multiparty elections in Brazil for which the integral is difficult to compute, the model relies on Gibbs sampling methods to obtain approximately independent samples from a posterior distribution, which follows a Dirichlet probability distribution, to predict each candidate’s probability of advancing the runoff. Our model includes third-party candidates’ effect, undecided voters, political ads broadcasting, and house effects in the analysis. The 2012 local election of Sao Paulo city provides the raw data for the analysis.","tags":["educational-assessment","public opinion","election","bayesian"],"title":"When the Winner Comes Third: Simulating Candidates' Winnability With Inaccurate Polls","type":"talk"},{"authors":null,"categories":["rstats"],"content":"","date":1357178400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1357178400,"objectID":"89d2bf7a6604ab0b657bce40ce0f6a4e","permalink":"/project/sciencespo/","publishdate":"2013-01-03T00:00:00-02:00","relpermalink":"/project/sciencespo/","section":"project","summary":"This is a minimal set of notes and examples of using the R package SciencesPo: A Tool Set for Analyzing Political Behaviour Data.","tags":["rstats-proj","SciencesPo"],"title":"SciencesPo Package","type":"project"},{"authors":null,"categories":["rstats","simulations"],"content":"","date":1316055600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1316055600,"objectID":"d5a06bb37d2638922a62fce7029cdacd","permalink":"/project/fptp2av/","publishdate":"2011-09-15T00:00:00-03:00","relpermalink":"/project/fptp2av/","section":"project","summary":"This project was packaged and became a beta version for publication. The set of scripts simulates election outcomes under a different voting system. Taking First Past the Post (FPTP) votes as imputes, the package simulates hypothetical outcomes given the Alternative Vote System.","tags":["rstats-proj"],"title":"FPTP2AV: Simulate Election Outcomes for Alternative Vote System Using the Actual FPTP Votes","type":"project"},{"authors":null,"categories":["rstats"],"content":"","date":1295056800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1295056800,"objectID":"e95d00ce605c9c7c82eab0dbcdfcc2df","permalink":"/project/soundexbr/","publishdate":"2011-01-15T00:00:00-02:00","relpermalink":"/project/soundexbr/","section":"project","summary":"This project was packaged in 2011 under the name: SoundexBR. The package provides an algorithm for decoding names into phonetic codes, as pronounced in Portuguese. The goal is for homophones to be encoded as the same representation, so that they can match despite minor differences in spelling.","tags":["rstats-proj"],"title":"SoundexBR: Phonetic-Coding for Portuguese","type":"project"},{"authors":null,"categories":["rstats","educational-assessment"],"content":"","date":1293415200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1293415200,"objectID":"fa3ca69e01fd2bf8c5d1d897162666d5","permalink":"/project/multilevel/","publishdate":"2010-12-27T00:00:00-02:00","relpermalink":"/project/multilevel/","section":"project","summary":"Master dissertation submitted to the University of Brasilia, investigating the impact of campaign spending in the Brazilian elections. This work uses a lot multilevel analysis models.","tags":["rstats-proj","educational-assessment-proj"],"title":"Multilevel Analysis","type":"project"},{"authors":["Leany B Lemos","Daniel Marcelino","João H Pederiva"],"categories":["educational-assessment"],"content":"","date":1288576800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1288576800,"objectID":"ce5e3a3c5283698b2872cafa392d254b","permalink":"/publication/2010-porque-dinheiro-importa/","publishdate":"2010-11-01T00:00:00-02:00","relpermalink":"/publication/2010-porque-dinheiro-importa/","section":"publication","summary":"Many scholars have written on money and elections, especially on how expenditures can explain the performance of the candidate. Our paper aims at describing some features of finance campaign for the Brazilian National Congress in 2002 and 2006, based on the Superior Electoral Court (TSE) data. We tried to capture: a) donations and expenditures variation of incumbents and challengers; b) regional variations, given the socioeconomic cleavages of the electoral district, that may affect donations and expenditures; c) cameral variations, given the incongruent character of the Brazilian bicameralism; d) party variations, that is, if there are candidates that cost 'more' or 'less', depending on party affiliation.","tags":["campaign finance","politics","congress"],"title":"Porque dinheiro importa: a dinâmica das contribuições eleitorais para o Congresso Nacional em 2002 e 2006","type":"publication"},{"authors":["Daniel Marcelino"],"categories":["educational-assessment"],"content":"","date":1288576800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1288576800,"objectID":"55f485c5a35c42507eb048e275ae7f1f","permalink":"/publication/2010-sobre-dinheiro-e-eleicoes/","publishdate":"2010-11-01T00:00:00-02:00","relpermalink":"/publication/2010-sobre-dinheiro-e-eleicoes/","section":"publication","summary":"Master dissertation submitted to the University of Brasilia, investigating the impact of campaign spending in the Brazilian elections. This work uses a lot multilevel analysis models.","tags":["campaign finance","politics","congress"],"title":"Sobre dinheiro e eleições: um estudo dos gastos de campanha para o Congresso Nacional em 2002 e 2006","type":"publication"},{"authors":["Daniel Marcelino","Sérgio Braga","Luiz Domingos Costa"],"categories":["educational-assessment"],"content":"","date":1233453600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1233453600,"objectID":"3b4bd348e8c9027c4f260e08dcdc0714","permalink":"/publication/2009-enigma-do-centrao/","publishdate":"2009-02-01T00:00:00-02:00","relpermalink":"/publication/2009-enigma-do-centrao/","section":"publication","summary":"Mesmo já passados mais de vinte anos da promulgação da Constituição Federal alguns pontos obscuros ainda permanecem entre os principais estudos e interpretações sobre o processo constituinte de 87/88. Enquanto que muitos trabalhos apontam para a heterogeneidade do PMDB como causa dos fatos principais na Constituinte, a análise que propomos sustenta que um dos grandes enigmas não resolvidos não é necessariamente o PMDB, mas sim o 'enigma do 'Centrão''. O que era o 'Centrão'? Quais os parlamentares que dele fizeram parte? Quais os seus posicionamentos mais importantes e as taxas de fracasso e de sucesso de suas propostas? Qual seu peso efetivo no resultado final da Carta? São questões que endereçamos aos estudos revisitados nessa análise.","tags":["brazilian politics"],"title":"Parlamentares na Constituinte de 1987/88: uma contribuição à solução do 'enigma do Centrão'","type":"publication"},{"authors":["Daniel Marcelino","Lucio Renno","Ricardo Mendes","Wladimir Gramacho"],"categories":["educational-assessment"],"content":"","date":1231984800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1231984800,"objectID":"b3e514da8f55461db928b8aa20b61237","permalink":"/publication/2009-cabeca-do-jornalista-brasileiro/","publishdate":"2009-01-15T00:00:00-02:00","relpermalink":"/publication/2009-cabeca-do-jornalista-brasileiro/","section":"publication","summary":"What are the beliefs and values of Brazilian journalists? Results form a unique public opinion survey with Brazilian journalists, and the use of data from the entire population collected through the Americas Barometer project provides initial responses to this question. Results indicate very positive findings. The main finding is that journalists are very supportive of the democratic regime. We also discuss issues like party identification, ideological preferences, media and political institutions evaluations. In sum, we provide a broad picture of Brazilian journalists opinions and beliefs, contrasting it with that of the Brazilian population.","tags":["survey","journalism","political values"],"title":"A cabeça do jornalista:opiniões e valores políticosdos jornalistas no Brasil","type":"publication"}]